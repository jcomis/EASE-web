
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>EASE Air quality sensor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/responsive.css" rel="stylesheet">
    <link href="css/xcharts.css" rel="stylesheet">
    <script src="js/jquery.min.js"></script>
    <script src="js/d3.v3.min.js"></script>
    <script src="js/xcharts.js"></script>
	<script>
		function getUrlVars()
		{
		    var vars = [], hash;
		    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
		    for(var i = 0; i < hashes.length; i++)
		    {
		        hash = hashes[i].split('=');
		        vars.push(hash[0]);
		        vars[hash[0]] = hash[1];
		    }
		    return vars;
		}
	</script>



    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="ico/favicon.png">

  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">EASE</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="index.html">Home</a></li>
              <li><a href="explore.html">Explore</a></li>
              <li><a href="#">Compare</a></li>
              <li><a href="improve.html">Improve</a></li>
            </ul>
            <ul class="nav pull-right">
              <li><a href="setup.html">Account</a></li>
              <li><a href="#">Sign Out</a></li>
            </ul>
            <!--<form class="navbar-form pull-right">
              <input class="span2" type="text" placeholder="Email">
              <input class="span2" type="password" placeholder="Password">
              <button type="submit" class="btn">Sign in</button>
            </form>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
    <!-- END OF NAV -->

    <div class="container main-dashboard">
      <!-- Alert Center-->
      <div class="row">
        <div class="span12">
			<div class="alert alert-success hide" id="first_time">
			  <button type="button" class="close" data-dismiss="alert">&times;</button>
			  <h4>Device Activated!</h4>
			  Thank you for setting up your account. EASE will begin sensing and helping you improve your air quality
			</div>

			<div class="alert alert-success hide" id="action_taken">
			  <button type="button" class="close" data-dismiss="alert">&times;</button>
			  <h4>Action Taken!</h4>
			  We'll contact you in an hour to see how that worked out for you
			</div>
		</div>
	  </div>
	<script>
		$(function(){
			var status = getUrlVars()["status"];
			if (status == "first") {
				$("#first_time").show().delay(2000);
			}
			else if (status == "action_taken") {
				$("#action_taken").show().delay(2000);
			};
		});

	</script>


      <!-- Dashboard-->
      <div class="row">
        <div class="span8">
          <div class="row">
            <h2>Current Air Quality</h2>
            <div class="span4">

            <div class="air-qual-box">
              <div class="air-qual-gradient">
                <span class="air-qual-value">56<i class="icon-sort-down icon-2x"></i></span>
              </div>
              <span class="air-qual-label pull-left">0</span>
              <span class="air-qual-label pull-right">100</span>
            </div>
          </div>
          <div class="span4">
            <div class="trend-box">Trend? onec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui.</div>
          </div>
        </div>
        <h5>Todays Averages</h5>
          <div class="well current-averages">
            <div class="now-data air-quality">Air Qual<span class="average"><strong>345</strong></span></div>
              <div class="now-data temp">Temp<span class="average"><strong>45Â°F</strong></span></div>
              <div class="now-data humidity">Humidity<span class="average"><strong>45%</strong></span></div>
              <div class="now-data co2">CO<sup>2</sup><span class="average"><strong>145</strong></span></div>
          </div>
          <div class="today-graph">
            <h3>Air Quality Today <small><em>as of 10:32pm 5/20/2013</em></small></h3>
            <div class="graph">
              <figure style="margin-left:-20px;width: 100%; height: 300px;" id="dash-chart"></figure>
<script>
    (function () {
      var tt = document.createElement('div'),
  leftOffset = -(~~$('html').css('padding-left').replace('px', '') + ~~$('body').css('margin-left').replace('px', '')),
  topOffset = -32;
tt.className = 'ex-tooltip';
document.body.appendChild(tt);

      var data = {
  "xScale": "time",
  "yScale": "linear",
  "main": [
    {
      "className": ".today-qual",
      "data": [
        {
          "x": "2012-11-05T00:31",
          "y": 23
        },
        {
          "x": "2012-11-05T03:42",
          "y": 32
        },
        {
          "x": "2012-11-05T05:01",
          "y": 55
        },
        {
          "x": "2012-11-05T10:55",
          "y": 12
        },
        {
          "x": "2012-11-05T13:12",
          "y": 14
        },
        {
          "x": "2012-11-05T15:40",
          "y": 23
        },
        {
          "x": "2012-11-05T19:00",
          "y": 40
        }
      ]
    }
  ]
};
      var opts = {
  "dataFormatX": function (x) { return d3.time.format('%Y-%m-%dT%H:%M').parse(x); },
  "tickFormatX": function (x) { return d3.time.format('%I%p')(x); },
  "mouseover": function (d, i) {
    var pos = $(this).offset();
    $(tt).text(d3.time.format('%A')(d.x) + ': ' + d.y)
      .css({top: 10 + pos.top, left: 20 + pos.left, position: 'absolute'})
      .show();
  },
  "mouseout": function (x) {
    $(tt).hide();
  }
};

      var myChart = new xChart('line-dotted', data, '#dash-chart', opts);

    }());
    </script>

            </div>
          </div>



        </div>
        <div class="span4">
          <h2>Recent Events</h2>
          <div class="alert recent-event">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <i class="icon-info-sign icon-2x pull-left"></i><h4>Warning: High Humiditiy Levels</h4>
            <p>EASE has detected average humidity levels of above 65% for more than 3 days. Humidity levels above 60% put your environment at a high risk for mold growth.</p>
          </div>
          <div class="alert alert-error recent-event">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <i class="icon-warning-sign icon-2x pull-left"></i><h4>Air Quality Spike</h4>
            <p>Your air quality has deteriorated rapidly in the past hour. Do you know what could have caused it?</p>
          </div>
          <div class="alert alert-success recent-event">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <i class="icon-heart icon-2x pull-left"></i><h4>Goal Reached!</h4>
            <p>Congratulations! You reached your goal of maintaining CO<sup>2</sup> levels below 100ppm for one week!</p>
          </div>
          <div class="alert recent-event">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <i class="icon-pencil icon-2x pull-left"></i><h4>Input Required</h4>
            <p>EASE needs feedback in order to make the best recommendations to improve your airquality. Please complete your air quality task on the improve page.</p>
          </div>
       </div>
      </div>

      <hr>
<figure style="width: 400px; height: 300px;" id="example3"></figure>


      <footer>
        <p>&copy; Company 2013</p>
      </footer>

    </div> <!-- /container -->

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="js/graphs.js"></script>
    <script src="js/bootstrap-transition.js"></script>
    <script src="js/bootstrap-alert.js"></script>
    <script src="js/bootstrap-modal.js"></script>
    <script src="js/bootstrap-dropdown.js"></script>
    <script src="js/bootstrap-scrollspy.js"></script>
    <script src="js/bootstrap-tab.js"></script>
    <script src="js/bootstrap-tooltip.js"></script>
    <script src="js/bootstrap-popover.js"></script>
    <script src="js/bootstrap-button.js"></script>
    <script src="js/bootstrap-collapse.js"></script>
    <script src="js/bootstrap-carousel.js"></script>
    <script src="js/bootstrap-typeahead.js"></script>

  </body>
</html>
